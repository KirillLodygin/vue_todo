import{c as R,u as j,_ as V}from"./Bq_7dxGS.js";import{u as E,_ as H,a as J,b as P,c as W,d as X,e as q,f as G,g as Q,h as Z}from"./O31xpwSp.js";import{d as A,V as ee,W as te,O as v,t as n,v as c,X as se,Y,_ as K,r as x,i as O,x as f,K as z,A as o,B as m,z as t,U as S,T as oe,J as le,m as F,y as T,R as U,S as B}from"./DCQOYHCu.js";const ae=A({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(b,{emit:l}){const s=b,u=E(s,"modelValue",l,{passive:!0,defaultValue:s.defaultValue});return(p,_)=>ee((n(),c("textarea",{"onUpdate:modelValue":_[0]||(_[0]=k=>se(u)?u.value=k:null),class:Y(v(R)("w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s.class)),style:{resize:"none","overflow-y":"auto","margin-bottom":"15px"}},null,2)),[[te,v(u)]])}}),ne=K(ae,[["__scopeId","data-v-1c4c2d2a"]]),ue={class:"mb-6 w-full sm:w-11/12 md:w-10/12 2xl:w-3/4 mx-auto"},de={class:"flex items-center justify-between"},ie={key:0},re={key:0,class:"pl-3 text-red-700"},ce={class:"flex justify-end gap-x-3"},fe=A({__name:"NewTodoForm",setup(b){const l=x(""),s=x(""),r=x(1),u=x(!1),p=x(!1),_=j(),k=O(()=>_.todoList.length?_.todoList[_.todoList.length-1].id:0),D=i=>{const e=i.target;l.value=e.value.toUpperCase()},I=()=>{u.value=!1,s.value||(s.value=`${r.value}. `)},h=i=>{i.key==="Enter"&&(i.preventDefault(),r.value+=1,s.value+=`
${r.value}. `)},$=()=>{s.value="",l.value="",r.value=1,u.value=!1},d=i=>{i.preventDefault(),$()},a=i=>{if(i.preventDefault(),s.value.length&&l.value.length){const e=s.value.split(`
`).map((C,L)=>({id:L+1,task:C,isDone:!1})),w={id:k.value+1,title:l.value,tasks:e};_.createNewTodo(w),$();return}u.value=!0},y=()=>{p.value=!1},g=()=>{p.value=!0};return(i,e)=>{const w=V,C=H,L=J,M=ne;return n(),c("div",ue,[f("div",de,[e[5]||(e[5]=f("h2",{class:"text-lg mr-5"},"Create new todo",-1)),f("div",null,[p.value?(n(),z(w,{key:0,variant:"default",onClick:y},{default:o(()=>e[3]||(e[3]=[m("Hide")])),_:1})):(n(),z(w,{key:1,variant:"destructive",onClick:g},{default:o(()=>e[4]||(e[4]=[m(" Show! ")])),_:1}))])]),t(oe,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:o(()=>[p.value?(n(),c("div",ie,[f("form",null,[f("div",null,[t(C,{for:"name"},{default:o(()=>e[6]||(e[6]=[m("Your new task name")])),_:1}),t(L,{id:"name",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=N=>l.value=N),onFocus:e[1]||(e[1]=()=>{u.value=!1}),type:"text",placeholder:"Your new todo name",onInput:D},null,8,["modelValue"])]),f("div",null,[t(C,{for:"tasks"},{default:o(()=>e[7]||(e[7]=[m("Your new task")])),_:1}),t(M,{id:"tasks",modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=N=>s.value=N),onFocus:I,onKeydown:h,placeholder:"Type new task here."},null,8,["modelValue"])]),u.value?(n(),c("p",re,"All fields for creation are not filled in!")):S("",!0),f("div",ce,[t(w,{variant:"default",onClick:d},{default:o(()=>e[8]||(e[8]=[m(" Cancel ")])),_:1}),t(w,{variant:"secondary",onClick:a},{default:o(()=>e[9]||(e[9]=[m(" Create! ")])),_:1})])])])):S("",!0)]),_:1})])}}}),me={class:"w-full sm:w-11/12 md:w-10/12 2xl:w-3/4 mx-auto"},ve={key:0,class:"flex items-center justify-start mb-10"},_e={class:"mr-5"},pe={key:1,class:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-4"},ge={class:"mb-2 text-lg font-bold"},xe=A({__name:"Todos",setup(b){const l=j(),s=x(!1),r=x(null),u=O(()=>l.todoList),p=O(()=>l.isNewTodoListStarted);le(()=>{const d=localStorage.getItem("todoList")||"";if(d.length){l.setTodoList(d);return}!u.value.length&&!p.value&&F("/")});const _=d=>{let a=d.length>50?d.slice(0,47)+"...":d;return a=a.split(". "),a[0]=`${a[0]}.`,a},k=d=>{l.updateOpenTodoId(d),localStorage.setItem("todoId",String(d)),F(`/todo_list/${d}`)},D=()=>{s.value=!0},I=()=>{s.value=!1},h=()=>{r.value?(l.deleteTodo(r.value),r.value=null):l.clearTodoList(),s.value=!1},$=d=>{s.value=!0,r.value=d};return(d,a)=>{const y=V;return n(),c("div",me,[u.value.length?(n(),c("div",ve,[f("div",_e,T(u.value.length)+" items in list",1),t(y,{variant:"destructive",size:"sm",onClick:D},{default:o(()=>a[0]||(a[0]=[m(" Clear Todos ")])),_:1})])):S("",!0),a[4]||(a[4]=f("h2",{class:"mb-2 text-lg font-bold"},"TODOS",-1)),u.value.length?(n(),c("div",pe,[(n(!0),c(U,null,B(u.value,g=>(n(),c("div",{key:g.id,class:"p-6 rounded shadow-md"},[t(y,{variant:"link",onClick:i=>k(g.id)},{default:o(()=>[f("h3",ge,T(g.title.toUpperCase()),1)]),_:2},1032,["onClick"]),t(y,{variant:"ghost",size:"xs",class:"text-red-700 mb-4",onClick:i=>$(g.id)},{default:o(()=>a[1]||(a[1]=[m(" Delete todo! ")])),_:2},1032,["onClick"]),(n(!0),c(U,null,B(g.tasks,i=>(n(),c("div",{key:i.id,class:"mb-2 flex items-start gap-x-5"},[(n(!0),c(U,null,B(_(i.task),e=>(n(),c("div",{class:Y([{"text-red-700":i.isDone},"leading-tight"])},T(e),3))),256))]))),128))]))),128))])):S("",!0),t(v(Z),{open:s.value},{default:o(()=>[t(v(P),{class:"sm:max-w-md"},{default:o(()=>[t(v(W),null,{default:o(()=>[t(v(X),null,{default:o(()=>[m(T(r.value?"Delete todo ?":"Clear Todos"),1)]),_:1}),t(v(q),null,{default:o(()=>[m(T(r.value?"Are you sure you want to delete todo?":"Are you sure you want to clear todos?"),1)]),_:1})]),_:1}),t(v(G),{class:"sm:justify-start"},{default:o(()=>[t(v(Q),{"as-child":""},{default:o(()=>[t(v(V),{onClick:I,type:"button",variant:"default"},{default:o(()=>a[2]||(a[2]=[m(" No ")])),_:1}),t(v(V),{onClick:h,type:"button",variant:"secondary"},{default:o(()=>a[3]||(a[3]=[m(" Ok ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])}}}),we={},ke={class:"p-10"};function ye(b,l){const s=fe,r=xe;return n(),c("div",ke,[l[0]||(l[0]=f("h1",{class:"text-4xl font-bold mb-6 pb-2"},"TODO_LIST",-1)),f("section",null,[t(s)]),f("section",null,[t(r)])])}const Ce=K(we,[["render",ye]]);export{Ce as default};
